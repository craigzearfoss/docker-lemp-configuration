  db-postgres:
    image: postgres
    container_name: {{project_name}}-postgres
    restart: always
    environment:
      PG_MODE: primary
      PG_PRIMARY_USER: postgres
      PG_PRIMARY_PASSWORD: {{db_root_password}}
      PG_DATABASE: {{db_name}}
      PG_USER: {{db_username}}
      PG_PASSWORD: {{db_password}}
      PG_ROOT_PASSWORD: {{db_root_password}}
      PG_PRIMARY_PORT: 5432
    logging:
      options:
        max-size: 10m
        max-file: "3"
    ports:
      - "{{db_exposed_port}}:5432"
    volumes:
      - ./init-files/postgres:/docker-entrypoint-initdb.d/init.sql
    networks:
      - {{project_name}}
